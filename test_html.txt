/* 1. Setup Safe Path */
%let safe_path = %sysfunc(getoption(work));

/* 2. Reset Output */
ods _all_ close;

/* 3. Open HTML File */
ods html path="&safe_path" file="button_test.html" style=styles.htmlblue;

/* 4. INJECT JAVASCRIPT & BUTTONS */
ods html text='
<script>
    function togglePage(id) {
        // Hide all blocks
        var pages = document.getElementsByClassName("my-page");
        for(var i=0; i<pages.length; i++) {
            pages[i].style.display = "none";
        }
        // Show the clicked one
        document.getElementById(id).style.display = "block";
    }
</script>

<style>
    .my-btn { padding: 10px 20px; font-size: 16px; cursor: pointer; background: #0078d7; color: white; border: none; margin-right: 5px; }
    .my-btn:hover { background: #005a9e; }
    .my-page { border: 2px solid #333; padding: 20px; margin-top: 20px; display: none; background: #f0f0f0; }
</style>

<div style="padding: 20px;">
    <button class="my-btn" onclick="togglePage(''pg_dept'')">Department</button>
    <button class="my-btn" onclick="togglePage(''pg_emp'')">Employee</button>
    <button class="my-btn" onclick="togglePage(''pg_data'')">Data</button>
</div>

<div id="pg_dept" class="my-page" style="display:block">
    <h1>Department Stats Page</h1>
    <p>Button logic is working.</p>
</div>

<div id="pg_emp" class="my-page">
    <h1>Employee Stats Page</h1>
    <p>You switched tabs successfully.</p>
</div>

<div id="pg_data" class="my-page">
    <h1>Data Page</h1>
    <p>Raw data would go here.</p>
</div>
';

/* 5. THE KICKSTART (Crucial!) */
/* We print a tiny invisible table. This forces EG to generate the HTML file. */
data _null_;
    file print;
    put "Test Complete.";
run;

ods html close;
